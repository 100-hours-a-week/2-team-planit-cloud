planit-ai.store {
	# Set this path to your site's directory.
	root * /usr/share/caddy/dist
	
	# 압축 전송 활성화 (성능 최적화)
	encode zstd gzip

	# API 요청 처리 (Reverse Proxy)
	# /api/로 시작하는 요청은 백엔드 서버로 보냅니다.
	handle /api/* {
		reverse_proxy localhost:8080
	}

	# 그 외 모든 요청 처리 (정적 파일 및 SPA 대응)
	handle {
		# 요청한 파일이 없으면 index.html을 보여줌 (SPA 라우팅)
		try_files {path} /index.html
		
		# 정적 파일 서버 활성화
		file_server
	}
}